<!DOCTYPE html>
<html lang="zh-cn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <div id="container" style="height: 800px;"></div>
</body>
<!-- <script type="text/javascript" src="//api.map.baidu.com/api?v=3.0&ak=lQoHFVlNQacH42nMZLnT0SeWTjBWDP4S"></script> -->
<!-- <script>
    console.error('BMap', BMap);
    // 百度地图API功能
	// const map = new BMap.Map("allmap"); // 创建Map实例

    var map = new BMap.Map("container", {
        coordsType: 5 // coordsType指定输入输出的坐标类型，3为gcj02坐标，5为bd0ll坐标，默认为5。
        // 指定完成后API将以指定的坐标类型处理您传入的坐标
    }); // 创建地图实例
    var point = new BMap.Point(116.404, 39.915);  // 创建点坐标  
    map.centerAndZoom(point, 15);                 // 初始化地图，设置中心点坐标和地图级别
    map.enableScrollWheelZoom(true);     //开启鼠标滚轮缩放

    var marker = new BMap.Marker(point);        // 创建标注    
    map.addOverlay(marker);                     // 将标注添加到地图中 


    marker.addEventListener("click", function(){    
        alert("您点击了标注");
    });

    const geoc = new BMap.Geocoder();
    console.error('geoc', geoc);
</script> -->
<!-- <script type="text/javascript" src="//api.map.baidu.com/api?v=3.0&ak=evBIVnbzgKAbKO6ggnwwMguftdmsfjc2"></script> -->
<script type="text/javascript" src="https://api.map.baidu.com/api?v=1.0&type=webgl&ak=evBIVnbzgKAbKO6ggnwwMguftdmsfjc2"></script>
<script>
    console.error('BMapGL', BMapGL);
    // 百度地图API功能
	// const map = new BMapGL.Map("allmap"); // 创建Map实例

    var map = new BMapGL.Map("container", {
        coordsType: 5 // coordsType指定输入输出的坐标类型，3为gcj02坐标，5为bd0ll坐标，默认为5。
        // 指定完成后API将以指定的坐标类型处理您传入的坐标
    }); // 创建地图实例
    var point = new BMapGL.Point(116.404, 39.915);  // 创建点坐标  
    map.centerAndZoom(point, 15);                 // 初始化地图，设置中心点坐标和地图级别
    map.enableScrollWheelZoom(true);     //开启鼠标滚轮缩放

    var marker = new BMapGL.Marker(point);        // 创建标注    
    map.addOverlay(marker);                     // 将标注添加到地图中 

    // 点击标注
    marker.addEventListener("click", function(){    
        alert("您点击了标注");
    });

    const geoc = new BMapGL.Geocoder();


    // // 关键词搜索
    // const handleSearch = () => {
    //     this.searchResult = [];
    //     if (!this.search) {
    //         this.showResultFlag = false;
    //         return;
    //     }
    //     const self = this;
    //     const local = new window.BMapGL.LocalSearch(map, {
    //         renderOptions: { map: map },
    //         onSearchComplete(res) {
    //             self.searchResult = res._pois;
    //             self.showResultFlag = true;
    //         }
    //     });
    //     local.search(this.search);
    // }

    // // 地图点击事件
    // map.addEventListener('click', (e) => {
    //     // console.error('e', e.latlng, marker);
    //     // marker.point = e.latlng;

    //     const { lng, lat } = e.latlng;

    //     var newPoint = new BMapGL.Point(lng, lat);
    //     // console.error('newPoint', point, e.latlng, newPoint, lat, lng);
    //     marker.setPosition(newPoint);
    //     // console.error('geoc', e, newPoint, geoc);

    //     geoc.getLocation(newPoint, (rs) => {
    //         var addComp = rs.addressComponents;
    //         console.error('addComp', addComp, rs);
    //         // console.error(addComp.province + ", " + addComp.city + ", " + addComp.district + ", " + addComp.street + ", " + addComp.streetNumber);
    //     });
    // });

</script>
</html>